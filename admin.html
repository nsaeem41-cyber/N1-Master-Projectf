<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>N One | ØºØ±ÙØ© Ù‚ÙŠØ§Ø¯Ø© Ø§Ù„Ø´Ø±ÙƒØ§Øª (Secure Isolation)</title>
Â  Â  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
Â  Â Â 
Â  Â  <script src="https://cdn.jsdelivr.net/gh/nsaeem41-cyber/N1-Master-Project@main/n-one-core.js"></script>

Â  Â  <style>
Â  Â  Â  Â  /* ================= Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø§Ù„ØªØµÙ…ÙŠÙ… (Pro Theme) ================= */
Â  Â  Â  Â  :root {
Â  Â  Â  Â  Â  Â  --primary: #1a237e; --gold: #d4af37; --bg: #f4f7f6; --text: #333;
Â  Â  Â  Â  Â  Â  --success: #2e7d32; --danger: #c62828; --warning: #f57f17; --info: #0288d1;
Â  Â  Â  Â  }

Â  Â  Â  Â  body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: var(--bg); margin: 0; padding: 0; color: var(--text); user-select: none; }

Â  Â  Â  Â  .navbar { background: white; height: 70px; display: flex; justify-content: space-between; align-items: center; padding: 0 30px; box-shadow: 0 2px 15px rgba(0,0,0,0.05); border-bottom: 3px solid var(--gold); position: sticky; top: 0; z-index: 1000; }
Â  Â  Â  Â  .brand { font-size: 24px; font-weight: 900; color: var(--primary); letter-spacing: 1px; }
Â  Â  Â  Â  .gold-text { color: var(--gold); }
Â  Â  Â  Â  .btn-logout { background: none; border: none; font-size: 16px; cursor: pointer; padding: 8px 15px; border-radius: 8px; background-color: var(--danger); color: white; transition: 0.3s; }
Â  Â  Â  Â  .btn-logout:hover { background-color: #b71c1c; }

Â  Â  Â  Â  .container { max-width: 1200px; margin: 30px auto; padding: 0 20px; }

Â  Â  Â  Â  /* Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª */
Â  Â  Â  Â  .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
Â  Â  Â  Â  .stat-card { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.03); text-align: center; border-top: 5px solid var(--primary); }
Â  Â  Â  Â  .stat-number { font-size: 32px; font-weight: bold; color: var(--primary); margin: 10px 0; }
Â  Â  Â  Â  .stat-label { color: #777; font-size: 13px; }

Â  Â  Â  Â  /* Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¥Ø¶Ø§ÙØ© */
Â  Â  Â  Â  .card { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.03); margin-bottom: 30px; position: relative; }
Â  Â  Â  Â  .card-header { font-size: 20px; font-weight: bold; color: var(--primary); border-bottom: 1px solid #eee; padding-bottom: 15px; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; }
Â  Â  Â  Â  .form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px; }
Â  Â  Â  Â  input, select { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; outline: none; background: #fafafa; }
Â  Â  Â  Â  input:focus { border-color: var(--primary); background: white; }
Â  Â  Â  Â  .btn-add { background: var(--success); color: white; border: none; padding: 12px 25px; border-radius: 8px; font-weight: bold; cursor: pointer; height: 100%; width: 100%; }

Â  Â  Â  Â  /* Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ */
Â  Â  Â  Â  .table-wrapper { overflow-x: auto; }
Â  Â  Â  Â  table { width: 100%; border-collapse: collapse; min-width: 950px; }
Â  Â  Â  Â  thead { background: #f8f9fa; color: #555; font-weight: bold; }
Â  Â  Â  Â  th, td { padding: 15px; text-align: right; border-bottom: 1px solid #eee; font-size: 14px; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .status-badge { padding: 4px 10px; border-radius: 20px; font-size: 11px; font-weight: bold; }
Â  Â  Â  Â  .status-active { background: #e8f5e9; color: var(--success); }
Â  Â  Â  Â  .status-paused { background: #fff3e0; color: var(--warning); }
Â  Â  Â  Â  .status-expired { background: #ffebee; color: var(--danger); }Â 

Â  Â  Â  Â  /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… */
Â  Â  Â  Â  .action-group { display: flex; gap: 5px; }
Â  Â  Â  Â  .action-btn { padding: 6px 10px; border-radius: 6px; border: none; color: white; cursor: pointer; font-size: 12px; transition: 0.2s; }
Â  Â  Â  Â  .action-btn:hover { opacity: 0.9; transform: translateY(-1px); }
Â  Â  Â  Â  .act-freeze { background: var(--warning); }
Â  Â  Â  Â  .act-active { background: var(--success); }
Â  Â  Â  Â  .act-delete { background: var(--danger); }
Â  Â  Â  Â  .act-renew { background: var(--info); }
Â  Â  Â  Â  .act-edit { background: var(--primary); }

Â  Â  Â  Â  #Admin_LoaderOverlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.9); z-index: 3000; justify-content: center; align-items: center; font-size: 18px; font-weight: bold; color: var(--primary); flex-direction: column; }
Â  Â  </style>
</head>
<body>

Â  Â  <div id="Admin_LoaderOverlay">
Â  Â  Â  Â  <div style="font-size:30px; margin-bottom:10px;">ğŸ“¡</div>
Â  Â  Â  Â  <div>Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ù†ÙˆØ§Ø© Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ©</div>
Â  Â  </div>

Â  Â  <nav class="navbar">
Â  Â  Â  Â  <div class="brand">N <span class="gold-text">One</span> Admin</div>
Â  Â  Â  Â  <button class="btn-logout" onclick="Admin_Logout()">Ø®Ø±ÙˆØ¬ ğŸ”’</button>
Â  Â  </nav>

Â  Â  <div class="container">
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="stats-grid">
Â  Â  Â  Â  Â  Â  <div class="stat-card">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-label">Ø´Ø±ÙƒØ§Øª Ø§Ù„Ù†Ù‚Ù„ (Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡)</div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-number" id="Admin_CountClients">0</div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="stat-card" style="border-top-color: var(--success);">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-label">Ø´Ø±ÙƒØ§Øª Ù†Ø´Ø·Ø©</div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-number" id="Admin_CountActive" style="color: var(--success);">0</div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="stat-card" style="border-top-color: var(--gold);">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-label">Ø§Ù„Ù…Ø±Ø¯ÙˆØ¯ Ø§Ù„Ù…Ø§Ù„ÙŠ</div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="stat-number" id="Admin_RevCount" style="color: var(--gold);">0</div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="card">
Â  Â  Â  Â  Â  Â  <div class="card-header">
Â  Â  Â  Â  Â  Â  Â  Â  <span>âœ¨ Ø¥Ø¶Ø§ÙØ© Ø´Ø±ÙƒØ© Ù†Ù‚Ù„ Ø¬Ø¯ÙŠØ¯Ø© (System Isolation)</span>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="form-grid">
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="Admin_NewName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ØªØ¬Ø§Ø±ÙŠ Ù„Ù„Ø´Ø±ÙƒØ©">
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="Admin_NewUser" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (User ID) - ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† ÙØ±ÙŠØ¯Ø§">
Â  Â  Â  Â  Â  Â  Â  Â  <input type="password" id="Admin_NewPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
Â  Â  Â  Â  Â  Â  Â  Â  <select id="Admin_SubDuration">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="30">30 ÙŠÙˆÙ…</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="90">3 Ø£Ø´Ù‡Ø±</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="180">6 Ø£Ø´Ù‡Ø±</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="365">Ø³Ù†Ø© ÙƒØ§Ù…Ù„Ø©</option>
Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="number" id="Admin_SubPrice" placeholder="Ù‚ÙŠÙ…Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ (Ø¯.Ø£)">
Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn-add" id="Admin_BtnAddUser" onclick="Admin_AddUser()">+ Ø¥Ø¶Ø§ÙØ© Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø³ØªÙ‚Ù„Ø© ğŸš€</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="card">
Â  Â  Â  Â  Â  Â  <div class="card-header">
Â  Â  Â  Â  Â  Â  Â  Â  <span>ğŸ¢ Ø³Ø¬Ù„ Ø´Ø±ÙƒØ§Øª Ø§Ù„Ù†Ù‚Ù„ (Companies Log)</span>
Â  Â  Â  Â  Â  Â  Â  Â  <span style="font-size:12px; color:#1a237e;">White Label Clients</span>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="table-wrapper">
Â  Â  Â  Â  Â  Â  Â  Â  <table>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <thead>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>Ø§Ù„Ø´Ø±ÙƒØ©</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ (ID)</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>Ø§Ù„Ø®Ø·Ø© / Ø§Ù„Ø³Ø¹Ø±</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø´Ø§Ù…Ù„</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </thead>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tbody id="Admin_ClientsTable">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr><td colspan="6" style="text-align:center;">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„</td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tbody>
Â  Â  Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  // Ø±Ø§Ø¨Ø· Ø§Ù„Ø³ÙŠØ±ÙØ± Ø§Ù„Ù…Ø­Ø¯Ø«
Â  Â  Â  Â  if (typeof Core_N_ONE_CORE !== 'undefined') {
Â  Â  Â  Â  Â  Â  Core_N_ONE_CORE.Core_API_URL = "https://script.google.com/macros/s/AKfycbxFVz0QTi_7TgWQEMImtMGYRBzlD1CwM5X4DbprUvVJkURs_75aD5n5IcpbS87d8Q5j/exec";
Â  Â  Â  Â  }

Â  Â  Â  Â  let Admin_AllData = [];
Â  Â  Â  Â  let Admin_GlobalServerTime = new Date();Â 

Â  Â  Â  Â  window.onload = async function() {
Â  Â  Â  Â  Â  Â  if (typeof Core_N_ONE_CORE === 'undefined') { alert("Ø®Ø·Ø£ Ø§Ù„Ù…ØµÙ„Ø­ Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ ØºÙŠØ± Ù…ØªØµÙ„"); return; }
Â  Â  Â  Â  Â  Â  if (Core_N_ONE_CORE.Core_checkSession('admin')) {
Â  Â  Â  Â  Â  Â  Â  Â  await Admin_FetchServerTime();
Â  Â  Â  Â  Â  Â  Â  Â  await Admin_FetchData();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };

Â  Â  Â  Â  async function Admin_FetchServerTime() {
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  const Admin_Res = await fetch("http://worldtimeapi.org/api/timezone/Asia/Amman");
Â  Â  Â  Â  Â  Â  Â  Â  const Admin_TimeData = await Admin_Res.json();
Â  Â  Â  Â  Â  Â  Â  Â  Admin_GlobalServerTime = new Date(Admin_TimeData.datetime);
Â  Â  Â  Â  Â  Â  } catch (e) { Admin_GlobalServerTime = new Date(); }
Â  Â  Â  Â  }

Â  Â  Â  Â  async function Admin_FetchData() {
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Admin_AllData = await Core_N_ONE_CORE.Core_fetchData('read');
Â  Â  Â  Â  Â  Â  Â  Â  Admin_RenderTables();
Â  Â  Â  Â  Â  Â  } catch (e) { console.error(e); }
Â  Â  Â  Â  }

Â  Â  Â  Â  function Admin_RenderTables() {
Â  Â  Â  Â  Â  Â  const Admin_ClientTbody = document.getElementById('Admin_ClientsTable');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø±ÙƒØ§Øª ÙÙ‚Ø·
Â  Â  Â  Â  Â  Â  const Admin_Clients = Admin_AllData.filter(u => u.Auth_Role === 'client' || u.Auth_Type === 'client').reverse();

Â  Â  Â  Â  Â  Â  document.getElementById('Admin_CountClients').innerText = Admin_Clients.length;
Â  Â  Â  Â  Â  Â  document.getElementById('Admin_CountActive').innerText = Admin_Clients.filter(c => c.Auth_Status === 'active').length;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  let Admin_TotalRev = 0;
Â  Â  Â  Â  Â  Â  Admin_Clients.forEach(c => Admin_TotalRev += Number(c.Admin_Price || 0));
Â  Â  Â  Â  Â  Â  document.getElementById('Admin_RevCount').innerText = Admin_TotalRev.toFixed(0);

Â  Â  Â  Â  Â  Â  Admin_RenderRows(Admin_ClientTbody, Admin_Clients);
Â  Â  Â  Â  }

Â  Â  Â  Â  function Admin_RenderRows(Admin_Tbody, Admin_Data) {
Â  Â  Â  Â  Â  Â  if (Admin_Data.length === 0) { Admin_Tbody.innerHTML = '<tr><td colspan="6" style="text-align:center;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø´Ø±ÙƒØ§Øª Ù…Ø³Ø¬Ù„Ø©</td></tr>'; return; }
Â  Â  Â  Â  Â  Â  Admin_Tbody.innerHTML = '';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Admin_Data.forEach(Admin_Item => {
Â  Â  Â  Â  Â  Â  Â  Â  const Admin_ExpiryDate = new Date(Admin_Item.Auth_Expiry);
Â  Â  Â  Â  Â  Â  Â  Â  const Admin_DiffTime = Admin_ExpiryDate - Admin_GlobalServerTime;
Â  Â  Â  Â  Â  Â  Â  Â  const Admin_DiffDays = Math.ceil(Admin_DiffTime / (1000 * 60 * 60 * 24));

Â  Â  Â  Â  Â  Â  Â  Â  let Admin_StatusBadge = '';
Â  Â  Â  Â  Â  Â  Â  Â  let Admin_DaysText = '';

Â  Â  Â  Â  Â  Â  Â  Â  let Admin_CurrentStatus = String(Admin_Item.Auth_Status || 'active').trim().toLowerCase();

Â  Â  Â  Â  Â  Â  Â  Â  if (Admin_CurrentStatus === 'paused') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Admin_StatusBadge = `<span class="status-badge status-paused">Ù…Ø¬Ù…Ø¯ â„ï¸</span>`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Admin_DaysText = `<span style="color:#f57f17;">Ù…ÙˆÙ‚Ù</span>`;
Â  Â  Â  Â  Â  Â  Â  Â  } else if (Admin_DiffDays <= 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Admin_StatusBadge = `<span class="status-badge status-expired">Ù…Ù†ØªÙ‡ÙŠ â›”</span>`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Admin_DaysText = `<span style="color:#c62828; font-weight:bold;">Ø§Ù†ØªÙ‡Ù‰</span>`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if(Admin_CurrentStatus === 'active') Admin_SetStatusSilent(Admin_Item.Auth_User, 'paused');
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Admin_StatusBadge = `<span class="status-badge status-active">Ù†Ø´Ø· âœ…</span>`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Admin_DaysText = Admin_DiffDays <= 3 ? `<span style="color:#c62828;">${Admin_DiffDays} ÙŠÙˆÙ… âš ï¸</span>` : `<span style="color:#2e7d32;">${Admin_DiffDays} ÙŠÙˆÙ…</span>`;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const Admin_ToggleBtn = Admin_CurrentStatus === 'active'
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ? `<button class="action-btn act-freeze" title="ØªØ¬Ù…ÙŠØ¯" onclick="Admin_SetStatus('${Admin_Item.Auth_User}', 'active')">â„ï¸</button>`
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  : `<button class="action-btn act-active" title="ØªÙØ¹ÙŠÙ„" onclick="Admin_SetStatus('${Admin_Item.Auth_User}', 'paused')">â–¶ï¸</button>`;

Â  Â  Â  Â  Â  Â  Â  Â  const Admin_Row = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td><b>${Admin_Item.Auth_Name}</b></td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td style="font-size:12px; color:#555;">${Admin_Item.Auth_User}<br>Pwd: ${Admin_Item.Auth_Pass}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td style="font-size:12px;">${Admin_Item.Admin_Price || 0} Ø¯.Ø£</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>${Admin_DaysText}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>${Admin_StatusBadge}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="action-group">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="action-btn act-edit" title="ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª" onclick="Admin_EditUser('${Admin_Item.Auth_User}', '${Admin_Item.Auth_Name}', '${Admin_Item.Auth_Pass}')">âœï¸</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${Admin_ToggleBtn}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="action-btn act-renew" title="ØªØ¬Ø¯ÙŠØ¯" onclick="Admin_RenewUser('${Admin_Item.Auth_User}')">ğŸ”„</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="action-btn act-delete" title="Ø­Ø°Ù" onclick="Admin_DeleteUser('${Admin_Item.Auth_User}')">âŒ</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  Admin_Tbody.innerHTML += Admin_Row;
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  async function Admin_AddUser() {
Â  Â  Â  Â  Â  Â  const Admin_Role = 'client';
Â  Â  Â  Â  Â  Â  const Admin_Name = document.getElementById('Admin_NewName').value;
Â  Â  Â  Â  Â  Â  const Admin_User = document.getElementById('Admin_NewUser').value.trim();Â 
Â  Â  Â  Â  Â  Â  const Admin_Pass = document.getElementById('Admin_NewPass').value;
Â  Â  Â  Â  Â  Â  const Admin_Days = document.getElementById('Admin_SubDuration').value;
Â  Â  Â  Â  Â  Â  const Admin_Price = document.getElementById('Admin_SubPrice').value;

Â  Â  Â  Â  Â  Â  if (!Admin_Name || !Admin_User || !Admin_Pass || !Admin_Price) { alert("ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© ÙƒØ§ÙØ© Ø§Ù„Ø­Ù‚ÙˆÙ„ â˜ºï¸"); return; }

Â  Â  Â  Â  Â  Â  const Admin_Exists = Admin_AllData.some(u => String(u.Auth_User).toLowerCase() === Admin_User.toLowerCase());
Â  Â  Â  Â  Â  Â  if (Admin_Exists) {
Â  Â  Â  Â  Â  Â  Â  Â  alert("ØªÙ†Ø¨ÙŠÙ‡ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù‡Ø°Ø§ Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ø³Ù… Ø¢Ø®Ø± Ù„Ø¶Ù…Ø§Ù† Ø¹Ø²Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const Admin_ExpDate = new Date(Admin_GlobalServerTime);
Â  Â  Â  Â  Â  Â  Admin_ExpDate.setDate(Admin_ExpDate.getDate() + parseInt(Admin_Days));
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  document.getElementById('Admin_LoaderOverlay').style.display = 'flex';
Â  Â  Â  Â  Â  Â  const Admin_NewItem = {
Â  Â  Â  Â  Â  Â  Â  Â  Auth_ID: "CL_" + Date.now(),
Â  Â  Â  Â  Â  Â  Â  Â  Auth_User: Admin_User,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Auth_Pass: Admin_Pass,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Auth_Name: Admin_Name,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Auth_Role: Admin_Role,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Auth_Type: Admin_Role,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Auth_Status: "active",
Â  Â  Â  Â  Â  Â  Â  Â  Auth_Expiry: Admin_ExpDate.toISOString().split('T')[0],Â 
Â  Â  Â  Â  Â  Â  Â  Â  Admin_Price: Admin_Price,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Admin_PlanDays: Admin_Days
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  await Core_N_ONE_CORE.Core_postData('add', [Admin_NewItem]);
Â  Â  Â  Â  Â  Â  await Admin_FetchData();
Â  Â  Â  Â  Â  Â  document.getElementById('Admin_LoaderOverlay').style.display = 'none';
Â  Â  Â  Â  Â  Â  alert("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø´Ø±ÙƒØ© Ø¨Ù†Ø¬Ø§Ø­ Ù…Ø¹ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹Ø²ÙˆÙ„Ø© â˜ºï¸âœ…");
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  document.getElementById('Admin_NewName').value = '';
Â  Â  Â  Â  Â  Â  document.getElementById('Admin_NewUser').value = '';
Â  Â  Â  Â  Â  Â  document.getElementById('Admin_NewPass').value = '';
Â  Â  Â  Â  }

Â  Â  Â  Â  async function Admin_EditUser(Admin_Username, Admin_OldName, Admin_OldPass) {
Â  Â  Â  Â  Â  Â  const Admin_NewName = prompt("ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø§Ø³Ù… Ø§Ù„ØªØ¬Ø§Ø±ÙŠ", Admin_OldName);
Â  Â  Â  Â  Â  Â  if (Admin_NewName === null) return;
Â  Â  Â  Â  Â  Â  const Admin_NewPass = prompt("ØªØ¹Ø¯ÙŠÙ„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±", Admin_OldPass);
Â  Â  Â  Â  Â  Â  if (Admin_NewPass === null) return;

Â  Â  Â  Â  Â  Â  if (Admin_NewName === Admin_OldName && Admin_NewPass === Admin_OldPass) return;

Â  Â  Â  Â  Â  Â  document.getElementById('Admin_LoaderOverlay').style.display = 'flex';
Â  Â  Â  Â  Â  Â  await Core_N_ONE_CORE.Core_postData('update', { Auth_User: Admin_Username, data: { Auth_Name: Admin_NewName, Auth_Pass: Admin_NewPass } });
Â  Â  Â  Â  Â  Â  await Admin_FetchData();
Â  Â  Â  Â  Â  Â  document.getElementById('Admin_LoaderOverlay').style.display = 'none';
Â  Â  Â  Â  Â  Â  alert("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª â˜ºï¸");
Â  Â  Â  Â  }

Â  Â  Â  Â  async function Admin_SetStatus(Admin_Username, Admin_CurrentStatus) {
Â  Â  Â  Â  Â  Â  const Admin_NextStatus = (Admin_CurrentStatus === 'active') ? 'paused' : 'active';
Â  Â  Â  Â  Â  Â  if (!confirm(Admin_NextStatus === 'paused' ? "ØªØ¬Ù…ÙŠØ¯ Ø§Ù„Ø­Ø³Ø§Ø¨" : "Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙØ¹ÙŠÙ„")) return;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  document.getElementById('Admin_LoaderOverlay').style.display = 'flex';
Â  Â  Â  Â  Â  Â  await Core_N_ONE_CORE.Core_postData('update', { Auth_User: Admin_Username, data: { Auth_Status: Admin_NextStatus } });
Â  Â  Â  Â  Â  Â  await Admin_FetchData();
Â  Â  Â  Â  Â  Â  document.getElementById('Admin_LoaderOverlay').style.display = 'none';
Â  Â  Â  Â  }

Â  Â  Â  Â  async function Admin_SetStatusSilent(Admin_Username, Admin_NewStatus) {
Â  Â  Â  Â  Â  Â  await Core_N_ONE_CORE.Core_postData('update', { Auth_User: Admin_Username, data: { Auth_Status: Admin_NewStatus } });
Â  Â  Â  Â  }

Â  Â  Â  Â  async function Admin_RenewUser(Admin_Username) {
Â  Â  Â  Â  Â  Â  const Admin_Days = prompt("Ø¹Ø¯Ø¯ Ø£ÙŠØ§Ù… Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©", "30");
Â  Â  Â  Â  Â  Â  if (!Admin_Days) return;
Â  Â  Â  Â  Â  Â  const Admin_NewPrice = prompt("Ù‚ÙŠÙ…Ø© Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ Ù„Ù„Ø¬Ø±Ø¯ Ø§Ù„Ù…Ø§Ù„ÙŠ 0 Ø¥Ø°Ø§ Ù…Ø¬Ø§Ù†ÙŠ", "0");

Â  Â  Â  Â  Â  Â  const Admin_NewDate = new Date(Admin_GlobalServerTime);
Â  Â  Â  Â  Â  Â  Admin_NewDate.setDate(Admin_NewDate.getDate() + parseInt(Admin_Days));

Â  Â  Â  Â  Â  Â  document.getElementById('Admin_LoaderOverlay').style.display = 'flex';
Â  Â  Â  Â  Â  Â  await Core_N_ONE_CORE.Core_postData('update', { Auth_User: Admin_Username, data: { Auth_Expiry: Admin_NewDate.toISOString().split('T')[0], Auth_Status: 'active', Admin_Price: Admin_NewPrice } });
Â  Â  Â  Â  Â  Â  await Admin_FetchData();
Â  Â  Â  Â  Â  Â  document.getElementById('Admin_LoaderOverlay').style.display = 'none';
Â  Â  Â  Â  Â  Â  alert("ØªÙ… ØªØ¬Ø¯ÙŠØ¯ Ø§Ù„Ø§Ø´ØªØ±Ø§Ùƒ â˜ºï¸ğŸ“…");
Â  Â  Â  Â  }

Â  Â  Â  Â  async function Admin_DeleteUser(Admin_Username) {
Â  Â  Â  Â  Â  Â  if (!confirm("ØªØ­Ø°ÙŠØ± Ø­Ø°Ù Ù†Ù‡Ø§Ø¦ÙŠ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯")) return;
Â  Â  Â  Â  Â  Â  document.getElementById('Admin_LoaderOverlay').style.display = 'flex';
Â  Â  Â  Â  Â  Â  await Core_N_ONE_CORE.Core_fetchData('delete', { Auth_User: Admin_Username });
Â  Â  Â  Â  Â  Â  await Admin_FetchData();
Â  Â  Â  Â  Â  Â  document.getElementById('Admin_LoaderOverlay').style.display = 'none';
Â  Â  Â  Â  Â  Â  alert("ØªÙ… Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨ ğŸ—‘ï¸");
Â  Â  Â  Â  }

Â  Â  Â  Â  function Admin_Logout() { Core_N_ONE_CORE.Core_logout(); }
Â  Â  </script>

</body>
</html>
