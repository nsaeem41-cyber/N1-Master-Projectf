<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>N1 GLOBAL | ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</title>
    <style>
        /* --- ØªØµÙ…ÙŠÙ… N1 Ø§Ù„Ø£ØµÙ„ÙŠ ÙˆØ§Ù„Ø±Ø§Ù‚ÙŠ --- */
        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: #f0f2f5;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        .login-card {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            text-align: center;
            width: 350px;
            border-top: 5px solid #1a237e; /* Ø§Ù„Ø£Ø²Ø±Ù‚ Ø§Ù„Ù…Ù„ÙƒÙŠ */
        }

        h1 { color: #1a237e; margin-bottom: 5px; }
        p { color: #666; margin-bottom: 30px; font-size: 14px; }

        input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-sizing: border-box;
            text-align: center;
            font-size: 16px;
            outline: none;
            transition: 0.3s;
        }

        input:focus { border-color: #d4af37; /* Ø°Ù‡Ø¨ÙŠ Ø¹Ù†Ø¯ Ø§Ù„ÙƒØªØ§Ø¨Ø© */ }

        button {
            width: 100%;
            padding: 14px;
            background: #1a237e;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
            transition: 0.3s;
        }

        button:hover { background: #0d47a1; }

        .footer { margin-top: 20px; font-size: 12px; color: #aaa; }
        
        #error-msg { color: red; font-size: 13px; margin-top: 10px; display: none; }
    </style>
</head>
<body>

    <div class="login-card">
        <h1>N1 GLOBAL</h1>
        <p>Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ù„ÙˆÙ„ Ø§Ù„Ù„ÙˆØ¬Ø³ØªÙŠØ© Ø§Ù„Ø°ÙƒÙŠØ© ğŸ˜Š</p>

        <input type="text" id="username" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
        <input type="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
        
        <button onclick="login()">Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù†Ø¸Ø§Ù… ğŸš€</button>
        <div id="error-msg">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©!</div>

        <div class="footer">Â© 2026 N1 Global System</div>
    </div>

    <script>
        const API = "https://sheetdb.io/api/v1/qzfkwfzcpbrsm";

        async function login() {
            const u = document.getElementById('username').value;
            const p = document.getElementById('password').value;
            const btn = document.querySelector('button');
            const err = document.getElementById('error-msg');

            // 1. Ø­Ø±ÙƒØ© Ø°ÙƒÙŠØ©: ØªØºÙŠÙŠØ± Ø§Ù„Ø²Ø± Ù„ÙŠØ¯Ù„ Ø¹Ù„Ù‰ Ø§Ù„ØªØ­Ù…ÙŠÙ„
            btn.innerHTML = "Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚... â³";
            btn.disabled = true;
            err.style.display = "none";

            try {
                // 2. ÙØ­Øµ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ±
                const res = await fetch(API);
                const users = await res.json();
                
                // 3. Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                const user = users.find(x => x.user === u && x.pass === p);

                if (user) {
                    // 4. Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø­Ø³Ø¨ Ø¯ÙˆØ±Ù‡
                    localStorage.setItem('currentUser', JSON.stringify(user));
                    
                    if (user.role === 'admin') {
                        window.location.href = 'admin.html'; // ØªÙˆØ¬ÙŠÙ‡ Ù„Ù„Ù…Ø¯ÙŠØ±
                    } else {
                        window.location.href = 'client.html'; // ØªÙˆØ¬ÙŠÙ‡ Ù„Ù„Ø¹Ù…ÙŠÙ„
                    }
                } else {
                    // 5. Ø¥Ø°Ø§ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØºÙ„Ø·
                    err.style.display = "block";
                    btn.innerHTML = "Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù†Ø¸Ø§Ù… ğŸš€";
                    btn.disabled = false;
                }
            } catch (e) {
                alert("ÙÙŠ Ù…Ø´ÙƒÙ„Ø© Ø¨Ø§Ù„Ø§ØªØµØ§Ù„! ØªØ£ÙƒØ¯ÙŠ Ù…Ù† Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª");
                btn.innerHTML = "Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù†Ø¸Ø§Ù… ğŸš€";
                btn.disabled = false;
            }
        }
    </script>
</body>
</html>
